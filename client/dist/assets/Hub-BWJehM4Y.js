import{r as f,_ as ne,g as re,a as ae,j as c,e as Vt,T as he,u as le,b as ce,c as de,i as _e,E as ue,B as me,d as pe,f as fe,h as N,k as ge,l as ye,M as Ee,m as Oe,Q as Te,R as ve,S as xe,n as Ce,V as we,o as Le,p as be,q as Ue,s as De,t as Pe,v as $,w as Ae,C as Re,x as Xt,y as Se}from"./index-D7vdwTBi.js";const Kt={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},ze=f.createContext(void 0),Qt=i=>f.useContext(ze)||re(),qt=i=>typeof(i==null?void 0:i.then)=="function",Me=i=>{i.status="pending",i.then(t=>{i.status="fulfilled",i.value=t},t=>{i.status="rejected",i.reason=t})},Fe=ne.use||(i=>{if(i.status==="pending")throw i;if(i.status==="fulfilled")return i.value;throw i.status==="rejected"?i.reason:(Me(i),i)}),pt=new WeakMap,ke=i=>{let t=pt.get(i);return t||(t=new Promise((e,s)=>{let n=i;const r=u=>d=>{n===u&&e(d)},l=u=>d=>{n===u&&s(d)},a=u=>{"onCancel"in u&&typeof u.onCancel=="function"&&u.onCancel(d=>{if((Kt?"production":void 0)!=="production"&&d===u)throw new Error("[Bug] p is not updated even after cancelation");qt(d)?(pt.set(d,t),n=d,d.then(r(d),l(d)),a(d)):e(d)})};i.then(r(i),l(i)),a(i)}),pt.set(i,t)),t};function He(i,t){const e=Qt(),[[s,n,r],l]=f.useReducer(d=>{const T=e.get(i);return Object.is(d[0],T)&&d[1]===e&&d[2]===i?d:[T,e,i]},void 0,()=>[e.get(i),e,i]);let a=s;if((n!==e||r!==i)&&(l(),a=e.get(i)),f.useEffect(()=>{const d=e.sub(i,()=>{l()});return l(),d},[e,i,void 0]),f.useDebugValue(a),qt(a)){const d=ke(a);return Fe(d)}return a}function Ie(i,t){const e=Qt();return f.useCallback((...n)=>{if((Kt?"production":void 0)!=="production"&&!("write"in i))throw new Error("not writable atom");return e.set(i,...n)},[e,i])}function mt(i,t){return[He(i),Ie(i)]}function Ct(){return Ct=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)({}).hasOwnProperty.call(e,s)&&(i[s]=e[s])}return i},Ct.apply(null,arguments)}function wt(i,t,e){var s,n,r,l,a;t==null&&(t=100);function u(){var T=Date.now()-l;T<t&&T>=0?s=setTimeout(u,t-T):(s=null,e||(a=i.apply(r,n),r=n=null))}var d=function(){r=this,n=arguments,l=Date.now();var T=e&&!s;return s||(s=setTimeout(u,t)),T&&(a=i.apply(r,n),r=n=null),a};return d.clear=function(){s&&(clearTimeout(s),s=null)},d.flush=function(){s&&(a=i.apply(r,n),r=n=null,clearTimeout(s),s=null)},d}wt.debounce=wt;var je=wt;const Pt=ae(je);var Ne=Object.defineProperty,Ye=Object.defineProperties,Ze=Object.getOwnPropertyDescriptors,At=Object.getOwnPropertySymbols,Be=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable,Rt=(i,t,e)=>t in i?Ne(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,St=(i,t)=>{for(var e in t||(t={}))Be.call(t,e)&&Rt(i,e,t[e]);if(At)for(var e of At(t))Ve.call(t,e)&&Rt(i,e,t[e]);return i},Xe=(i,t)=>Ye(i,Ze(t)),zt,Mt;typeof window<"u"&&((zt=window.document)!=null&&zt.createElement||((Mt=window.navigator)==null?void 0:Mt.product)==="ReactNative")?f.useLayoutEffect:f.useEffect;function Wt(i,t,e){if(!i)return;if(e(i)===!0)return i;let s=i.child;for(;s;){const n=Wt(s,t,e);if(n)return n;s=s.sibling}}function Gt(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const Ft=console.error;console.error=function(){const i=[...arguments].join("");if(i!=null&&i.startsWith("Warning:")&&i.includes("useContext")){console.error=Ft;return}return Ft.apply(this,arguments)};const bt=Gt(f.createContext(null));class $t extends f.Component{render(){return f.createElement(bt.Provider,{value:this._reactInternals},this.props.children)}}function Ke(){const i=f.useContext(bt);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=f.useId();return f.useMemo(()=>{for(const s of[i,i==null?void 0:i.alternate]){if(!s)continue;const n=Wt(s,!1,r=>{let l=r.memoizedState;for(;l;){if(l.memoizedState===t)return!0;l=l.next}});if(n)return n}},[i,t])}function Qe(){const i=Ke(),[t]=f.useState(()=>new Map);t.clear();let e=i;for(;e;){if(e.type&&typeof e.type=="object"){const n=e.type._context===void 0&&e.type.Provider===e.type?e.type:e.type._context;n&&n!==bt&&!t.has(n)&&t.set(n,f.useContext(Gt(n)))}e=e.return}return t}function qe(){const i=Qe();return f.useMemo(()=>Array.from(i.keys()).reduce((t,e)=>s=>f.createElement(t,null,f.createElement(e.Provider,Xe(St({},s),{value:i.get(e)}))),t=>f.createElement($t,St({},t))),[i])}function We({debounce:i,scroll:t,polyfill:e,offsetSize:s}={debounce:0,scroll:!1,offsetSize:!1}){const n=e||typeof window<"u"&&window.ResizeObserver,[r,l]=f.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!n)return r.width=1280,r.height=800,[()=>{},r,()=>{}];const a=f.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:r,orientationHandler:null}),u=i?typeof i=="number"?i:i.scroll:null,d=i?typeof i=="number"?i:i.resize:null,T=f.useRef(!1);f.useEffect(()=>(T.current=!0,()=>void(T.current=!1)));const[v,w,y]=f.useMemo(()=>{const h=()=>{if(!a.current.element)return;const{left:p,top:g,width:_,height:m,bottom:E,right:U,x:R,y:j}=a.current.element.getBoundingClientRect(),z={left:p,top:g,width:_,height:m,bottom:E,right:U,x:R,y:j};a.current.element instanceof HTMLElement&&s&&(z.height=a.current.element.offsetHeight,z.width=a.current.element.offsetWidth),Object.freeze(z),T.current&&!ts(a.current.lastBounds,z)&&l(a.current.lastBounds=z)};return[h,d?Pt(h,d):h,u?Pt(h,u):h]},[l,s,u,d]);function b(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(h=>h.removeEventListener("scroll",y,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function x(){var h;a.current.element&&(a.current.resizeObserver=new n(w),(h=a.current.resizeObserver)==null||h.observe(a.current.element),t&&a.current.scrollContainers&&a.current.scrollContainers.forEach(p=>p.addEventListener("scroll",y,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{y()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const P=h=>{!h||h===a.current.element||(b(),a.current.element=h,a.current.scrollContainers=Jt(h),x())};return $e(y,!!t),Ge(w),f.useEffect(()=>{b(),x()},[t,y,w]),f.useEffect(()=>b,[]),[P,r,v]}function Ge(i){f.useEffect(()=>{const t=i;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[i])}function $e(i,t){f.useEffect(()=>{if(t){const e=i;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",e,!0)}},[i,t])}function Jt(i){const t=[];if(!i||i===document.body)return t;const{overflow:e,overflowX:s,overflowY:n}=window.getComputedStyle(i);return[e,s,n].some(r=>r==="auto"||r==="scroll")&&t.push(i),[...t,...Jt(i.parentElement)]}const Je=["x","y","top","bottom","left","right","width","height"],ts=(i,t)=>Je.every(e=>i[e]===t[e]),es=f.forwardRef(function({children:t,fallback:e,resize:s,style:n,gl:r,events:l=fe,eventSource:a,eventPrefix:u,shadows:d,linear:T,flat:v,legacy:w,orthographic:y,frameloop:b,dpr:x,performance:P,raycaster:h,camera:p,scene:g,onPointerMissed:_,onCreated:m,...E},U){f.useMemo(()=>Vt(he),[]);const R=qe(),[j,z]=We({scroll:!0,debounce:{scroll:50,resize:0},...s}),V=f.useRef(null),rt=f.useRef(null);f.useImperativeHandle(U,()=>V.current);const at=le(_),[ht,J]=f.useState(!1),[Ut,ee]=f.useState(!1);if(ht)throw ht;if(Ut)throw Ut;const lt=f.useRef(null);ce(()=>{const tt=V.current;z.width>0&&z.height>0&&tt&&(lt.current||(lt.current=de(tt)),lt.current.configure({gl:r,events:l,shadows:d,linear:T,flat:v,legacy:w,orthographic:y,frameloop:b,dpr:x,performance:P,raycaster:h,camera:p,scene:g,size:z,onPointerMissed:(...X)=>at.current==null?void 0:at.current(...X),onCreated:X=>{X.events.connect==null||X.events.connect(a?_e(a)?a.current:a:rt.current),u&&X.setEvents({compute:(Dt,K)=>{const ie=Dt[u+"X"],oe=Dt[u+"Y"];K.pointer.set(ie/K.size.width*2-1,-(oe/K.size.height)*2+1),K.raycaster.setFromCamera(K.pointer,K.camera)}}),m==null||m(X)}}),lt.current.render(c.jsx(R,{children:c.jsx(ue,{set:ee,children:c.jsx(f.Suspense,{fallback:c.jsx(me,{set:J}),children:t})})})))}),f.useEffect(()=>{const tt=V.current;if(tt)return()=>pe(tt)},[]);const se=a?"none":"auto";return c.jsx("div",{ref:rt,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:se,...n},...E,children:c.jsx("div",{ref:j,style:{width:"100%",height:"100%"},children:c.jsx("canvas",{ref:V,style:{display:"block"},children:e})})})}),ss=f.forwardRef(function(t,e){return c.jsx($t,{children:c.jsx(es,{...t,ref:e})})});/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */const S={LEFT:1,RIGHT:2,MIDDLE:4},o=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768}),Q={NONE:0,IN:1,OUT:-1};function Z(i){return i.isPerspectiveCamera}function Y(i){return i.isOrthographicCamera}const q=Math.PI*2,kt=Math.PI/2,te=1e-5,et=Math.PI/180;function k(i,t,e){return Math.max(t,Math.min(e,i))}function A(i,t=te){return Math.abs(i)<t}function D(i,t,e=te){return A(i-t,e)}function Ht(i,t){return Math.round(i/t)*t}function st(i){return isFinite(i)?i:i<0?-Number.MAX_VALUE:Number.MAX_VALUE}function it(i){return Math.abs(i)<Number.MAX_VALUE?i:i*(1/0)}function ct(i,t,e,s,n=1/0,r){s=Math.max(1e-4,s);const l=2/s,a=l*r,u=1/(1+a+.48*a*a+.235*a*a*a);let d=i-t;const T=t,v=n*s;d=k(d,-v,v),t=i-d;const w=(e.value+l*d)*r;e.value=(e.value-l*w)*u;let y=t+(d+w)*u;return T-i>0==y>T&&(y=T,e.value=(y-T)/r),y}function It(i,t,e,s,n=1/0,r,l){s=Math.max(1e-4,s);const a=2/s,u=a*r,d=1/(1+u+.48*u*u+.235*u*u*u);let T=t.x,v=t.y,w=t.z,y=i.x-T,b=i.y-v,x=i.z-w;const P=T,h=v,p=w,g=n*s,_=g*g,m=y*y+b*b+x*x;if(m>_){const J=Math.sqrt(m);y=y/J*g,b=b/J*g,x=x/J*g}T=i.x-y,v=i.y-b,w=i.z-x;const E=(e.x+a*y)*r,U=(e.y+a*b)*r,R=(e.z+a*x)*r;e.x=(e.x-a*E)*d,e.y=(e.y-a*U)*d,e.z=(e.z-a*R)*d,l.x=T+(y+E)*d,l.y=v+(b+U)*d,l.z=w+(x+R)*d;const j=P-i.x,z=h-i.y,V=p-i.z,rt=l.x-P,at=l.y-h,ht=l.z-p;return j*rt+z*at+V*ht>0&&(l.x=P,l.y=h,l.z=p,e.x=(l.x-P)/r,e.y=(l.y-h)/r,e.z=(l.z-p)/r),l}function ft(i,t){t.set(0,0),i.forEach(e=>{t.x+=e.clientX,t.y+=e.clientY}),t.x/=i.length,t.y/=i.length}function gt(i,t){return Y(i)?(console.warn(`${t} is not supported in OrthographicCamera`),!0):!1}class is{constructor(){this._listeners={}}addEventListener(t,e){const s=this._listeners;s[t]===void 0&&(s[t]=[]),s[t].indexOf(e)===-1&&s[t].push(e)}hasEventListener(t,e){const s=this._listeners;return s[t]!==void 0&&s[t].indexOf(e)!==-1}removeEventListener(t,e){const n=this._listeners[t];if(n!==void 0){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}}removeAllEventListeners(t){if(!t){this._listeners={};return}Array.isArray(this._listeners[t])&&(this._listeners[t].length=0)}dispatchEvent(t){const s=this._listeners[t.type];if(s!==void 0){t.target=this;const n=s.slice(0);for(let r=0,l=n.length;r<l;r++)n[r].call(this,t)}}}var yt;const os="2.9.0",dt=1/8,ns=/Mac/.test((yt=globalThis==null?void 0:globalThis.navigator)===null||yt===void 0?void 0:yt.platform);let O,jt,_t,Et,M,C,L,W,ot,H,I,B,Nt,Yt,F,nt,G,Zt,Ot,Bt,Tt,vt,ut,xt=class Lt extends is{static install(t){O=t.THREE,jt=Object.freeze(new O.Vector3(0,0,0)),_t=Object.freeze(new O.Vector3(0,1,0)),Et=Object.freeze(new O.Vector3(0,0,1)),M=new O.Vector2,C=new O.Vector3,L=new O.Vector3,W=new O.Vector3,ot=new O.Vector3,H=new O.Vector3,I=new O.Vector3,B=new O.Vector3,Nt=new O.Vector3,Yt=new O.Vector3,F=new O.Spherical,nt=new O.Spherical,G=new O.Box3,Zt=new O.Box3,Ot=new O.Sphere,Bt=new O.Quaternion,Tt=new O.Quaternion,vt=new O.Matrix4,ut=new O.Raycaster}static get ACTION(){return o}constructor(t,e){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=Number.EPSILON,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.dollyDragInverted=!1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=o.NONE,this._viewport=null,this._changedDolly=0,this._changedZoom=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._isDragging=!1,this._dragNeedsUpdate=!0,this._activePointers=[],this._lockedPointer=null,this._interactiveArea=new DOMRect(0,0,1,1),this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._lastDollyDirection=Q.NONE,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new O.Vector3,this._focalOffsetVelocity=new O.Vector3,this._zoomVelocity={value:0},this._truckInternal=(h,p,g)=>{let _,m;if(Z(this._camera)){const E=C.copy(this._camera.position).sub(this._target),U=this._camera.getEffectiveFOV()*et,R=E.length()*Math.tan(U*.5);_=this.truckSpeed*h*R/this._elementRect.height,m=this.truckSpeed*p*R/this._elementRect.height}else if(Y(this._camera)){const E=this._camera;_=h*(E.right-E.left)/E.zoom/this._elementRect.width,m=p*(E.top-E.bottom)/E.zoom/this._elementRect.height}else return;this.verticalDragToForward?(g?this.setFocalOffset(this._focalOffsetEnd.x+_,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(_,0,!0),this.forward(-m,!0)):g?this.setFocalOffset(this._focalOffsetEnd.x+_,this._focalOffsetEnd.y+m,this._focalOffsetEnd.z,!0):this.truck(_,m,!0)},this._rotateInternal=(h,p)=>{const g=q*this.azimuthRotateSpeed*h/this._elementRect.height,_=q*this.polarRotateSpeed*p/this._elementRect.height;this.rotate(g,_,!0)},this._dollyInternal=(h,p,g)=>{const _=Math.pow(.95,-h*this.dollySpeed),m=this._sphericalEnd.radius,E=this._sphericalEnd.radius*_,U=k(E,this.minDistance,this.maxDistance),R=U-E;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(E,!0):this.infinityDolly&&!this.dollyToCursor?(this.dollyInFixed(R,!0),this._dollyToNoClamp(U,!0)):this._dollyToNoClamp(U,!0),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?E:U)-m,this._dollyControlCoord.set(p,g)),this._lastDollyDirection=Math.sign(-h)},this._zoomInternal=(h,p,g)=>{const _=Math.pow(.95,h*this.dollySpeed),m=this._zoom,E=this._zoom*_;this.zoomTo(E,!0),this.dollyToCursor&&(this._changedZoom+=E-m,this._dollyControlCoord.set(p,g))},typeof O>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=t,this._yAxisUpSpace=new O.Quaternion().setFromUnitVectors(this._camera.up,_t),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=o.NONE,this._target=new O.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new O.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new O.Spherical().setFromVector3(C.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new O.Vector3,new O.Vector3,new O.Vector3,new O.Vector3],this._updateNearPlaneCorners(),this._boundary=new O.Box3(new O.Vector3(-1/0,-1/0,-1/0),new O.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new O.Vector2,this.mouseButtons={left:o.ROTATE,middle:o.DOLLY,right:o.TRUCK,wheel:Z(this._camera)?o.DOLLY:Y(this._camera)?o.ZOOM:o.NONE},this.touches={one:o.TOUCH_ROTATE,two:Z(this._camera)?o.TOUCH_DOLLY_TRUCK:Y(this._camera)?o.TOUCH_ZOOM_TRUCK:o.NONE,three:o.TOUCH_TRUCK};const s=new O.Vector2,n=new O.Vector2,r=new O.Vector2,l=h=>{if(!this._enabled||!this._domElement)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const _=this._domElement.getBoundingClientRect(),m=h.clientX/_.width,E=h.clientY/_.height;if(m<this._interactiveArea.left||m>this._interactiveArea.right||E<this._interactiveArea.top||E>this._interactiveArea.bottom)return}const p=h.pointerType!=="mouse"?null:(h.buttons&S.LEFT)===S.LEFT?S.LEFT:(h.buttons&S.MIDDLE)===S.MIDDLE?S.MIDDLE:(h.buttons&S.RIGHT)===S.RIGHT?S.RIGHT:null;if(p!==null){const _=this._findPointerByMouseButton(p);_&&this._disposePointer(_)}if((h.buttons&S.LEFT)===S.LEFT&&this._lockedPointer)return;const g={pointerId:h.pointerId,clientX:h.clientX,clientY:h.clientY,deltaX:0,deltaY:0,mouseButton:p};this._activePointers.push(g),this._domElement.ownerDocument.removeEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.ownerDocument.addEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",u),this._isDragging=!0,w(h)},a=h=>{h.cancelable&&h.preventDefault();const p=h.pointerId,g=this._lockedPointer||this._findPointerById(p);if(g){if(g.clientX=h.clientX,g.clientY=h.clientY,g.deltaX=h.movementX,g.deltaY=h.movementY,this._state=0,h.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(h.buttons&S.LEFT)===S.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(h.buttons&S.MIDDLE)===S.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(h.buttons&S.RIGHT)===S.RIGHT&&(this._state=this._state|this.mouseButtons.right);y()}},u=h=>{const p=this._findPointerById(h.pointerId);if(!(p&&p===this._lockedPointer)){if(p&&this._disposePointer(p),h.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=o.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=o.NONE;b()}};let d=-1;const T=h=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===o.NONE)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const E=this._domElement.getBoundingClientRect(),U=h.clientX/E.width,R=h.clientY/E.height;if(U<this._interactiveArea.left||U>this._interactiveArea.right||R<this._interactiveArea.top||R>this._interactiveArea.bottom)return}if(h.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===o.ROTATE||this.mouseButtons.wheel===o.TRUCK){const E=performance.now();d-E<1e3&&this._getClientRect(this._elementRect),d=E}const p=ns?-1:-3,g=h.deltaMode===1?h.deltaY/p:h.deltaY/(p*10),_=this.dollyToCursor?(h.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,m=this.dollyToCursor?(h.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case o.ROTATE:{this._rotateInternal(h.deltaX,h.deltaY),this._isUserControllingRotate=!0;break}case o.TRUCK:{this._truckInternal(h.deltaX,h.deltaY,!1),this._isUserControllingTruck=!0;break}case o.OFFSET:{this._truckInternal(h.deltaX,h.deltaY,!0),this._isUserControllingOffset=!0;break}case o.DOLLY:{this._dollyInternal(-g,_,m),this._isUserControllingDolly=!0;break}case o.ZOOM:{this._zoomInternal(-g,_,m),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},v=h=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===Lt.ACTION.NONE){const p=h instanceof PointerEvent?h.pointerId:0,g=this._findPointerById(p);g&&this._disposePointer(g),this._domElement.ownerDocument.removeEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u);return}h.preventDefault()}},w=h=>{if(!this._enabled)return;if(ft(this._activePointers,M),this._getClientRect(this._elementRect),s.copy(M),n.copy(M),this._activePointers.length>=2){const g=M.x-this._activePointers[1].clientX,_=M.y-this._activePointers[1].clientY,m=Math.sqrt(g*g+_*_);r.set(0,m);const E=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,U=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;n.set(E,U)}if(this._state=0,!h)this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);else if("pointerType"in h&&h.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else!this._lockedPointer&&(h.buttons&S.LEFT)===S.LEFT&&(this._state=this._state|this.mouseButtons.left),(h.buttons&S.MIDDLE)===S.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(h.buttons&S.RIGHT)===S.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&o.ROTATE)===o.ROTATE||(this._state&o.TOUCH_ROTATE)===o.TOUCH_ROTATE||(this._state&o.TOUCH_DOLLY_ROTATE)===o.TOUCH_DOLLY_ROTATE||(this._state&o.TOUCH_ZOOM_ROTATE)===o.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&o.TRUCK)===o.TRUCK||(this._state&o.TOUCH_TRUCK)===o.TOUCH_TRUCK||(this._state&o.TOUCH_DOLLY_TRUCK)===o.TOUCH_DOLLY_TRUCK||(this._state&o.TOUCH_ZOOM_TRUCK)===o.TOUCH_ZOOM_TRUCK)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&o.DOLLY)===o.DOLLY||(this._state&o.TOUCH_DOLLY)===o.TOUCH_DOLLY||(this._state&o.TOUCH_DOLLY_TRUCK)===o.TOUCH_DOLLY_TRUCK||(this._state&o.TOUCH_DOLLY_OFFSET)===o.TOUCH_DOLLY_OFFSET||(this._state&o.TOUCH_DOLLY_ROTATE)===o.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&o.ZOOM)===o.ZOOM||(this._state&o.TOUCH_ZOOM)===o.TOUCH_ZOOM||(this._state&o.TOUCH_ZOOM_TRUCK)===o.TOUCH_ZOOM_TRUCK||(this._state&o.TOUCH_ZOOM_OFFSET)===o.TOUCH_ZOOM_OFFSET||(this._state&o.TOUCH_ZOOM_ROTATE)===o.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&o.OFFSET)===o.OFFSET||(this._state&o.TOUCH_OFFSET)===o.TOUCH_OFFSET||(this._state&o.TOUCH_DOLLY_OFFSET)===o.TOUCH_DOLLY_OFFSET||(this._state&o.TOUCH_ZOOM_OFFSET)===o.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})},y=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,ft(this._activePointers,M);const p=this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,g=p?-p.deltaX:n.x-M.x,_=p?-p.deltaY:n.y-M.y;if(n.copy(M),((this._state&o.ROTATE)===o.ROTATE||(this._state&o.TOUCH_ROTATE)===o.TOUCH_ROTATE||(this._state&o.TOUCH_DOLLY_ROTATE)===o.TOUCH_DOLLY_ROTATE||(this._state&o.TOUCH_ZOOM_ROTATE)===o.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(g,_),this._isUserControllingRotate=!0),(this._state&o.DOLLY)===o.DOLLY||(this._state&o.ZOOM)===o.ZOOM){const m=this.dollyToCursor?(s.x-this._elementRect.x)/this._elementRect.width*2-1:0,E=this.dollyToCursor?(s.y-this._elementRect.y)/this._elementRect.height*-2+1:0,U=this.dollyDragInverted?-1:1;(this._state&o.DOLLY)===o.DOLLY?(this._dollyInternal(U*_*dt,m,E),this._isUserControllingDolly=!0):(this._zoomInternal(U*_*dt,m,E),this._isUserControllingZoom=!0)}if((this._state&o.TOUCH_DOLLY)===o.TOUCH_DOLLY||(this._state&o.TOUCH_ZOOM)===o.TOUCH_ZOOM||(this._state&o.TOUCH_DOLLY_TRUCK)===o.TOUCH_DOLLY_TRUCK||(this._state&o.TOUCH_ZOOM_TRUCK)===o.TOUCH_ZOOM_TRUCK||(this._state&o.TOUCH_DOLLY_OFFSET)===o.TOUCH_DOLLY_OFFSET||(this._state&o.TOUCH_ZOOM_OFFSET)===o.TOUCH_ZOOM_OFFSET||(this._state&o.TOUCH_DOLLY_ROTATE)===o.TOUCH_DOLLY_ROTATE||(this._state&o.TOUCH_ZOOM_ROTATE)===o.TOUCH_ZOOM_ROTATE){const m=M.x-this._activePointers[1].clientX,E=M.y-this._activePointers[1].clientY,U=Math.sqrt(m*m+E*E),R=r.y-U;r.set(0,U);const j=this.dollyToCursor?(n.x-this._elementRect.x)/this._elementRect.width*2-1:0,z=this.dollyToCursor?(n.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&o.TOUCH_DOLLY)===o.TOUCH_DOLLY||(this._state&o.TOUCH_DOLLY_ROTATE)===o.TOUCH_DOLLY_ROTATE||(this._state&o.TOUCH_DOLLY_TRUCK)===o.TOUCH_DOLLY_TRUCK||(this._state&o.TOUCH_DOLLY_OFFSET)===o.TOUCH_DOLLY_OFFSET?(this._dollyInternal(R*dt,j,z),this._isUserControllingDolly=!0):(this._zoomInternal(R*dt,j,z),this._isUserControllingZoom=!0)}((this._state&o.TRUCK)===o.TRUCK||(this._state&o.TOUCH_TRUCK)===o.TOUCH_TRUCK||(this._state&o.TOUCH_DOLLY_TRUCK)===o.TOUCH_DOLLY_TRUCK||(this._state&o.TOUCH_ZOOM_TRUCK)===o.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(g,_,!1),this._isUserControllingTruck=!0),((this._state&o.OFFSET)===o.OFFSET||(this._state&o.TOUCH_OFFSET)===o.TOUCH_OFFSET||(this._state&o.TOUCH_DOLLY_OFFSET)===o.TOUCH_DOLLY_OFFSET||(this._state&o.TOUCH_ZOOM_OFFSET)===o.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(g,_,!0),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},b=()=>{ft(this._activePointers,M),n.copy(M),this._dragNeedsUpdate=!1,(this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{!this._enabled||!this._domElement||(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",x),this._domElement.ownerDocument.addEventListener("pointerlockerror",P),this._domElement.ownerDocument.addEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",u),w())},this.unlockPointer=()=>{var h,p,g;this._lockedPointer!==null&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),(h=this._domElement)===null||h===void 0||h.ownerDocument.exitPointerLock(),(p=this._domElement)===null||p===void 0||p.ownerDocument.removeEventListener("pointerlockchange",x),(g=this._domElement)===null||g===void 0||g.ownerDocument.removeEventListener("pointerlockerror",P),this.cancel()};const x=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},P=()=>{this.unlockPointer()};this._addAllEventListeners=h=>{this._domElement=h,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",l),this._domElement.addEventListener("pointercancel",u),this._domElement.addEventListener("wheel",T,{passive:!1}),this._domElement.addEventListener("contextmenu",v)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",l),this._domElement.removeEventListener("pointercancel",u),this._domElement.removeEventListener("wheel",T,{passive:!1}),this._domElement.removeEventListener("contextmenu",v),this._domElement.ownerDocument.removeEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.ownerDocument.removeEventListener("pointerlockchange",x),this._domElement.ownerDocument.removeEventListener("pointerlockerror",P))},this.cancel=()=>{this._state!==o.NONE&&(this._state=o.NONE,this._activePointers.length=0,b())},e&&this.connect(e),this.update(0)}get camera(){return this._camera}set camera(t){this._camera=t,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._domElement&&(t?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(t){this._spherical.radius===t&&this._sphericalEnd.radius===t||(this._spherical.radius=t,this._sphericalEnd.radius=t,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(t){this._spherical.theta===t&&this._sphericalEnd.theta===t||(this._spherical.theta=t,this._sphericalEnd.theta=t,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(t){this._spherical.phi===t&&this._sphericalEnd.phi===t||(this._spherical.phi=t,this._sphericalEnd.phi=t,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(t){this._boundaryEnclosesCamera=t,this._needsUpdate=!0}set interactiveArea(t){this._interactiveArea.width=k(t.width,0,1),this._interactiveArea.height=k(t.height,0,1),this._interactiveArea.x=k(t.x,0,1-this._interactiveArea.width),this._interactiveArea.y=k(t.y,0,1-this._interactiveArea.height)}addEventListener(t,e){super.addEventListener(t,e)}removeEventListener(t,e){super.removeEventListener(t,e)}rotate(t,e,s=!1){return this.rotateTo(this._sphericalEnd.theta+t,this._sphericalEnd.phi+e,s)}rotateAzimuthTo(t,e=!1){return this.rotateTo(t,this._sphericalEnd.phi,e)}rotatePolarTo(t,e=!1){return this.rotateTo(this._sphericalEnd.theta,t,e)}rotateTo(t,e,s=!1){this._isUserControllingRotate=!1;const n=k(t,this.minAzimuthAngle,this.maxAzimuthAngle),r=k(e,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=n,this._sphericalEnd.phi=r,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,s||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const l=!s||D(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&D(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(l)}dolly(t,e=!1){return this.dollyTo(this._sphericalEnd.radius-t,e)}dollyTo(t,e=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=Q.NONE,this._changedDolly=0,this._dollyToNoClamp(k(t,this.minDistance,this.maxDistance),e)}_dollyToNoClamp(t,e=!1){const s=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){const l=this._collisionTest(),a=D(l,this._spherical.radius);if(!(s>t)&&a)return Promise.resolve();this._sphericalEnd.radius=Math.min(t,l)}else this._sphericalEnd.radius=t;this._needsUpdate=!0,e||(this._spherical.radius=this._sphericalEnd.radius);const r=!e||D(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(r)}dollyInFixed(t,e=!1){this._targetEnd.add(this._getCameraDirection(ot).multiplyScalar(t)),e||this._target.copy(this._targetEnd);const s=!e||D(this._target.x,this._targetEnd.x,this.restThreshold)&&D(this._target.y,this._targetEnd.y,this.restThreshold)&&D(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(s)}zoom(t,e=!1){return this.zoomTo(this._zoomEnd+t,e)}zoomTo(t,e=!1){this._isUserControllingZoom=!1,this._zoomEnd=k(t,this.minZoom,this.maxZoom),this._needsUpdate=!0,e||(this._zoom=this._zoomEnd);const s=!e||D(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(s)}pan(t,e,s=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(t,e,s)}truck(t,e,s=!1){this._camera.updateMatrix(),H.setFromMatrixColumn(this._camera.matrix,0),I.setFromMatrixColumn(this._camera.matrix,1),H.multiplyScalar(t),I.multiplyScalar(-e);const n=C.copy(H).add(I),r=L.copy(this._targetEnd).add(n);return this.moveTo(r.x,r.y,r.z,s)}forward(t,e=!1){C.setFromMatrixColumn(this._camera.matrix,0),C.crossVectors(this._camera.up,C),C.multiplyScalar(t);const s=L.copy(this._targetEnd).add(C);return this.moveTo(s.x,s.y,s.z,e)}elevate(t,e=!1){return C.copy(this._camera.up).multiplyScalar(t),this.moveTo(this._targetEnd.x+C.x,this._targetEnd.y+C.y,this._targetEnd.z+C.z,e)}moveTo(t,e,s,n=!1){this._isUserControllingTruck=!1;const r=C.set(t,e,s).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,r,this.boundaryFriction),this._needsUpdate=!0,n||this._target.copy(this._targetEnd);const l=!n||D(this._target.x,this._targetEnd.x,this.restThreshold)&&D(this._target.y,this._targetEnd.y,this.restThreshold)&&D(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(l)}lookInDirectionOf(t,e,s,n=!1){const a=C.set(t,e,s).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius).add(this._targetEnd);return this.setPosition(a.x,a.y,a.z,n)}fitToBox(t,e,{cover:s=!1,paddingLeft:n=0,paddingRight:r=0,paddingBottom:l=0,paddingTop:a=0}={}){const u=[],d=t.isBox3?G.copy(t):G.setFromObject(t);d.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const T=Ht(this._sphericalEnd.theta,kt),v=Ht(this._sphericalEnd.phi,kt);u.push(this.rotateTo(T,v,e));const w=C.setFromSpherical(this._sphericalEnd).normalize(),y=Bt.setFromUnitVectors(w,Et),b=D(Math.abs(w.y),1);b&&y.multiply(Tt.setFromAxisAngle(_t,T)),y.multiply(this._yAxisUpSpaceInverse);const x=Zt.makeEmpty();L.copy(d.min).applyQuaternion(y),x.expandByPoint(L),L.copy(d.min).setX(d.max.x).applyQuaternion(y),x.expandByPoint(L),L.copy(d.min).setY(d.max.y).applyQuaternion(y),x.expandByPoint(L),L.copy(d.max).setZ(d.min.z).applyQuaternion(y),x.expandByPoint(L),L.copy(d.min).setZ(d.max.z).applyQuaternion(y),x.expandByPoint(L),L.copy(d.max).setY(d.min.y).applyQuaternion(y),x.expandByPoint(L),L.copy(d.max).setX(d.min.x).applyQuaternion(y),x.expandByPoint(L),L.copy(d.max).applyQuaternion(y),x.expandByPoint(L),x.min.x-=n,x.min.y-=l,x.max.x+=r,x.max.y+=a,y.setFromUnitVectors(Et,w),b&&y.premultiply(Tt.invert()),y.premultiply(this._yAxisUpSpace);const P=x.getSize(C),h=x.getCenter(L).applyQuaternion(y);if(Z(this._camera)){const p=this.getDistanceToFitBox(P.x,P.y,P.z,s);u.push(this.moveTo(h.x,h.y,h.z,e)),u.push(this.dollyTo(p,e)),u.push(this.setFocalOffset(0,0,0,e))}else if(Y(this._camera)){const p=this._camera,g=p.right-p.left,_=p.top-p.bottom,m=s?Math.max(g/P.x,_/P.y):Math.min(g/P.x,_/P.y);u.push(this.moveTo(h.x,h.y,h.z,e)),u.push(this.zoomTo(m,e)),u.push(this.setFocalOffset(0,0,0,e))}return Promise.all(u)}fitToSphere(t,e){const s=[],r="isObject3D"in t?Lt.createBoundingSphere(t,Ot):Ot.copy(t);if(s.push(this.moveTo(r.center.x,r.center.y,r.center.z,e)),Z(this._camera)){const l=this.getDistanceToFitSphere(r.radius);s.push(this.dollyTo(l,e))}else if(Y(this._camera)){const l=this._camera.right-this._camera.left,a=this._camera.top-this._camera.bottom,u=2*r.radius,d=Math.min(l/u,a/u);s.push(this.zoomTo(d,e))}return s.push(this.setFocalOffset(0,0,0,e)),Promise.all(s)}setLookAt(t,e,s,n,r,l,a=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Q.NONE,this._changedDolly=0;const u=L.set(n,r,l),d=C.set(t,e,s);this._targetEnd.copy(u),this._sphericalEnd.setFromVector3(d.sub(u).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,a||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const T=!a||D(this._target.x,this._targetEnd.x,this.restThreshold)&&D(this._target.y,this._targetEnd.y,this.restThreshold)&&D(this._target.z,this._targetEnd.z,this.restThreshold)&&D(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&D(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&D(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(T)}lerpLookAt(t,e,s,n,r,l,a,u,d,T,v,w,y,b=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Q.NONE,this._changedDolly=0;const x=C.set(n,r,l),P=L.set(t,e,s);F.setFromVector3(P.sub(x).applyQuaternion(this._yAxisUpSpace));const h=W.set(T,v,w),p=L.set(a,u,d);nt.setFromVector3(p.sub(h).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(x.lerp(h,y));const g=nt.theta-F.theta,_=nt.phi-F.phi,m=nt.radius-F.radius;this._sphericalEnd.set(F.radius+m*y,F.phi+_*y,F.theta+g*y),this.normalizeRotations(),this._needsUpdate=!0,b||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const E=!b||D(this._target.x,this._targetEnd.x,this.restThreshold)&&D(this._target.y,this._targetEnd.y,this.restThreshold)&&D(this._target.z,this._targetEnd.z,this.restThreshold)&&D(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&D(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&D(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(E)}setPosition(t,e,s,n=!1){return this.setLookAt(t,e,s,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,n)}setTarget(t,e,s,n=!1){const r=this.getPosition(C),l=this.setLookAt(r.x,r.y,r.z,t,e,s,n);return this._sphericalEnd.phi=k(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),l}setFocalOffset(t,e,s,n=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(t,e,s),this._needsUpdate=!0,n||this._focalOffset.copy(this._focalOffsetEnd);const r=!n||D(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&D(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&D(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(r)}setOrbitPoint(t,e,s){this._camera.updateMatrixWorld(),H.setFromMatrixColumn(this._camera.matrixWorldInverse,0),I.setFromMatrixColumn(this._camera.matrixWorldInverse,1),B.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const n=C.set(t,e,s),r=n.distanceTo(this._camera.position),l=n.sub(this._camera.position);H.multiplyScalar(l.x),I.multiplyScalar(l.y),B.multiplyScalar(l.z),C.copy(H).add(I).add(B),C.z=C.z+r,this.dollyTo(r,!1),this.setFocalOffset(-C.x,C.y,-C.z,!1),this.moveTo(t,e,s,!1)}setBoundary(t){if(!t){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(t),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(t,e,s,n){if(t===null){this._viewport=null;return}this._viewport=this._viewport||new O.Vector4,typeof t=="number"?this._viewport.set(t,e,s,n):this._viewport.copy(t)}getDistanceToFitBox(t,e,s,n=!1){if(gt(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const r=t/e,l=this._camera.getEffectiveFOV()*et,a=this._camera.aspect;return((n?r>a:r<a)?e:t/a)*.5/Math.tan(l*.5)+s*.5}getDistanceToFitSphere(t){if(gt(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const e=this._camera.getEffectiveFOV()*et,s=Math.atan(Math.tan(e*.5)*this._camera.aspect)*2,n=1<this._camera.aspect?e:s;return t/Math.sin(n*.5)}getTarget(t,e=!0){return(t&&t.isVector3?t:new O.Vector3).copy(e?this._targetEnd:this._target)}getPosition(t,e=!0){return(t&&t.isVector3?t:new O.Vector3).setFromSpherical(e?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(e?this._targetEnd:this._target)}getSpherical(t,e=!0){return(t||new O.Spherical).copy(e?this._sphericalEnd:this._spherical)}getFocalOffset(t,e=!0){return(t&&t.isVector3?t:new O.Vector3).copy(e?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%q,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=q),this._spherical.theta+=q*Math.round((this._sphericalEnd.theta-this._spherical.theta)/q)}stop(){this._focalOffset.copy(this._focalOffsetEnd),this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd),this._zoom=this._zoomEnd}reset(t=!1){if(!D(this._camera.up.x,this._cameraUp0.x)||!D(this._camera.up.y,this._cameraUp0.y)||!D(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);const s=this.getPosition(C);this.updateCameraUp(),this.setPosition(s.x,s.y,s.z)}const e=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,t),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,t),this.zoomTo(this._zoom0,t)];return Promise.all(e)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,_t),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){const t=C.subVectors(this._target,this._camera.position).normalize(),e=L.crossVectors(t,this._camera.up);this._camera.up.crossVectors(e,t).normalize(),this._camera.updateMatrixWorld();const s=this.getPosition(C);this.updateCameraUp(),this.setPosition(s.x,s.y,s.z)}update(t){const e=this._sphericalEnd.theta-this._spherical.theta,s=this._sphericalEnd.phi-this._spherical.phi,n=this._sphericalEnd.radius-this._spherical.radius,r=Nt.subVectors(this._targetEnd,this._target),l=Yt.subVectors(this._focalOffsetEnd,this._focalOffset),a=this._zoomEnd-this._zoom;if(A(e))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const v=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=ct(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,v,1/0,t),this._needsUpdate=!0}if(A(s))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const v=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=ct(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,v,1/0,t),this._needsUpdate=!0}if(A(n))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const v=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=ct(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,v,this.maxSpeed,t),this._needsUpdate=!0}if(A(r.x)&&A(r.y)&&A(r.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const v=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;It(this._target,this._targetEnd,this._targetVelocity,v,this.maxSpeed,t,this._target),this._needsUpdate=!0}if(A(l.x)&&A(l.y)&&A(l.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const v=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;It(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,v,this.maxSpeed,t,this._focalOffset),this._needsUpdate=!0}if(A(a))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const v=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=ct(this._zoom,this._zoomEnd,this._zoomVelocity,v,1/0,t)}if(this.dollyToCursor){if(Z(this._camera)&&this._changedDolly!==0){const v=this._spherical.radius-this._lastDistance,w=this._camera,y=this._getCameraDirection(ot),b=C.copy(y).cross(w.up).normalize();b.lengthSq()===0&&(b.x=1);const x=L.crossVectors(b,y),P=this._sphericalEnd.radius*Math.tan(w.getEffectiveFOV()*et*.5),p=(this._sphericalEnd.radius-v-this._sphericalEnd.radius)/this._sphericalEnd.radius,g=W.copy(this._targetEnd).add(b.multiplyScalar(this._dollyControlCoord.x*P*w.aspect)).add(x.multiplyScalar(this._dollyControlCoord.y*P)),_=C.copy(this._targetEnd).lerp(g,p),m=this._lastDollyDirection===Q.IN&&this._spherical.radius<=this.minDistance,E=this._lastDollyDirection===Q.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(m||E)){this._sphericalEnd.radius-=v,this._spherical.radius-=v;const R=L.copy(y).multiplyScalar(-v);_.add(R)}this._boundary.clampPoint(_,_);const U=L.subVectors(_,this._targetEnd);this._targetEnd.copy(_),this._target.add(U),this._changedDolly-=v,A(this._changedDolly)&&(this._changedDolly=0)}else if(Y(this._camera)&&this._changedZoom!==0){const v=this._zoom-this._lastZoom,w=this._camera,y=C.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(w.near+w.far)/(w.near-w.far)).unproject(w),b=L.set(0,0,-1).applyQuaternion(w.quaternion),x=W.copy(y).add(b.multiplyScalar(-y.dot(w.up))),h=-(this._zoom-v-this._zoom)/this._zoom,p=this._getCameraDirection(ot),g=this._targetEnd.dot(p),_=C.copy(this._targetEnd).lerp(x,h),m=_.dot(p),E=p.multiplyScalar(m-g);_.sub(E),this._boundary.clampPoint(_,_);const U=L.subVectors(_,this._targetEnd);this._targetEnd.copy(_),this._target.add(U),this._changedZoom-=v,A(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0;const u=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,u),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!A(this._focalOffset.x)||!A(this._focalOffset.y)||!A(this._focalOffset.z))&&(this._camera.updateMatrixWorld(),H.setFromMatrixColumn(this._camera.matrix,0),I.setFromMatrixColumn(this._camera.matrix,1),B.setFromMatrixColumn(this._camera.matrix,2),H.multiplyScalar(this._focalOffset.x),I.multiplyScalar(-this._focalOffset.y),B.multiplyScalar(this._focalOffset.z),C.copy(H).add(I).add(B),this._camera.position.add(C)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),C.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const T=this._needsUpdate;return T&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):T?(this.dispatchEvent({type:"update"}),A(e,this.restThreshold)&&A(s,this.restThreshold)&&A(n,this.restThreshold)&&A(r.x,this.restThreshold)&&A(r.y,this.restThreshold)&&A(r.z,this.restThreshold)&&A(l.x,this.restThreshold)&&A(l.y,this.restThreshold)&&A(l.z,this.restThreshold)&&A(a,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!T&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=T,this._needsUpdate=!1,T}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:st(this.maxDistance),minZoom:this.minZoom,maxZoom:st(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:st(this.maxPolarAngle),minAzimuthAngle:st(this.minAzimuthAngle),maxAzimuthAngle:st(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:C.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(t,e=!1){const s=JSON.parse(t);this.enabled=s.enabled,this.minDistance=s.minDistance,this.maxDistance=it(s.maxDistance),this.minZoom=s.minZoom,this.maxZoom=it(s.maxZoom),this.minPolarAngle=s.minPolarAngle,this.maxPolarAngle=it(s.maxPolarAngle),this.minAzimuthAngle=it(s.minAzimuthAngle),this.maxAzimuthAngle=it(s.maxAzimuthAngle),this.smoothTime=s.smoothTime,this.draggingSmoothTime=s.draggingSmoothTime,this.dollySpeed=s.dollySpeed,this.truckSpeed=s.truckSpeed,this.dollyToCursor=s.dollyToCursor,this.verticalDragToForward=s.verticalDragToForward,this._target0.fromArray(s.target0),this._position0.fromArray(s.position0),this._zoom0=s.zoom0,this._focalOffset0.fromArray(s.focalOffset0),this.moveTo(s.target[0],s.target[1],s.target[2],e),F.setFromVector3(C.fromArray(s.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(F.theta,F.phi,e),this.dollyTo(F.radius,e),this.zoomTo(s.zoom,e),this.setFocalOffset(s.focalOffset[0],s.focalOffset[1],s.focalOffset[2],e),this._needsUpdate=!0}connect(t){if(this._domElement){console.warn("camera-controls is already connected.");return}t.setAttribute("data-camera-controls-version",os),this._addAllEventListeners(t),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(t){return t.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(t){return this._getTargetDirection(t).negate()}_findPointerById(t){return this._activePointers.find(e=>e.pointerId===t)}_findPointerByMouseButton(t){return this._activePointers.find(e=>e.mouseButton===t)}_disposePointer(t){this._activePointers.splice(this._activePointers.indexOf(t),1)}_encloseToBoundary(t,e,s){const n=e.lengthSq();if(n===0)return t;const r=L.copy(e).add(t),a=this._boundary.clampPoint(r,W).sub(r),u=a.lengthSq();if(u===0)return t.add(e);if(u===n)return t;if(s===0)return t.add(e).add(a);{const d=1+s*u/e.dot(a);return t.add(L.copy(e).multiplyScalar(d)).add(a.multiplyScalar(1-s))}}_updateNearPlaneCorners(){if(Z(this._camera)){const t=this._camera,e=t.near,s=t.getEffectiveFOV()*et,n=Math.tan(s*.5)*e,r=n*t.aspect;this._nearPlaneCorners[0].set(-r,-n,0),this._nearPlaneCorners[1].set(r,-n,0),this._nearPlaneCorners[2].set(r,n,0),this._nearPlaneCorners[3].set(-r,n,0)}else if(Y(this._camera)){const t=this._camera,e=1/t.zoom,s=t.left*e,n=t.right*e,r=t.top*e,l=t.bottom*e;this._nearPlaneCorners[0].set(s,r,0),this._nearPlaneCorners[1].set(n,r,0),this._nearPlaneCorners[2].set(n,l,0),this._nearPlaneCorners[3].set(s,l,0)}}_collisionTest(){let t=1/0;if(!(this.colliderMeshes.length>=1)||gt(this._camera,"_collisionTest"))return t;const s=this._getTargetDirection(ot);vt.lookAt(jt,s,this._camera.up);for(let n=0;n<4;n++){const r=L.copy(this._nearPlaneCorners[n]);r.applyMatrix4(vt);const l=W.addVectors(this._target,r);ut.set(l,s),ut.far=this._spherical.radius+1;const a=ut.intersectObjects(this.colliderMeshes);a.length!==0&&a[0].distance<t&&(t=a[0].distance)}return t}_getClientRect(t){if(!this._domElement)return;const e=this._domElement.getBoundingClientRect();return t.x=e.left,t.y=e.top,this._viewport?(t.x+=this._viewport.x,t.y+=e.height-this._viewport.w-this._viewport.y,t.width=this._viewport.z,t.height=this._viewport.w):(t.width=e.width,t.height=e.height),t}_createOnRestPromise(t){return t?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(e=>{const s=()=>{this.removeEventListener("rest",s),e()};this.addEventListener("rest",s)}))}_addAllEventListeners(t){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(t){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(t){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(t,e=new O.Sphere){const s=e,n=s.center;G.makeEmpty(),t.traverseVisible(l=>{l.isMesh&&G.expandByObject(l)}),G.getCenter(n);let r=0;return t.traverseVisible(l=>{if(!l.isMesh)return;const a=l,u=a.geometry.clone();u.applyMatrix4(a.matrixWorld);const T=u.attributes.position;for(let v=0,w=T.count;v<w;v++)C.fromBufferAttribute(T,v),r=Math.max(r,n.distanceToSquared(C))}),s.radius=Math.sqrt(r),s}};const rs=f.forwardRef((i,t)=>{f.useMemo(()=>{const m={Box3:ye,MathUtils:{clamp:Ee.clamp},Matrix4:Oe,Quaternion:Te,Raycaster:ve,Sphere:xe,Spherical:Ce,Vector2:we,Vector3:Le,Vector4:be};xt.install({THREE:m}),Vt({CameraControlsImpl:xt})},[]);const{camera:e,domElement:s,makeDefault:n,onStart:r,onEnd:l,onChange:a,regress:u,...d}=i,T=N(m=>m.camera),v=N(m=>m.gl),w=N(m=>m.invalidate),y=N(m=>m.events),b=N(m=>m.setEvents),x=N(m=>m.set),P=N(m=>m.get),h=N(m=>m.performance),p=e||T,g=s||y.connected||v.domElement,_=f.useMemo(()=>new xt(p),[p]);return ge((m,E)=>{_.enabled&&_.update(E)},-1),f.useEffect(()=>(_.connect(g),()=>void _.disconnect()),[g,_]),f.useEffect(()=>{const m=R=>{w(),u&&h.regress(),a&&a(R)},E=R=>{r&&r(R)},U=R=>{l&&l(R)};return _.addEventListener("update",m),_.addEventListener("controlstart",E),_.addEventListener("controlend",U),_.addEventListener("control",m),_.addEventListener("transitionstart",m),_.addEventListener("wake",m),()=>{_.removeEventListener("update",m),_.removeEventListener("controlstart",E),_.removeEventListener("controlend",U),_.removeEventListener("control",m),_.removeEventListener("transitionstart",m),_.removeEventListener("wake",m)}},[_,r,l,w,b,u,a]),f.useEffect(()=>{if(n){const m=P().controls;return x({controls:_}),()=>x({controls:m})}},[n,_]),f.createElement("primitive",Ct({ref:t,object:_},d))});function as(){const i=f.useRef(),[t,e]=mt(De),[s,n]=mt(Pe),[r,l]=f.useState(!1);return Ue(r),c.jsxs(c.Fragment,{children:[c.jsx("ambientLight",{intensity:.3}),c.jsx("directionalLight",{castShadow:!0,intensity:3,position:[1.86,5.85,6.65]}),c.jsx("directionalLight",{castShadow:!0,intensity:1,position:[-5.12,10.23,-4.43]}),t&&c.jsx("pointLight",{position:[-1.54,1.18,-.5],color:"pink",intensity:1}),s&&c.jsx("pointLight",{position:[1,1.55,1],color:"#FF5C00",intensity:2}),c.jsx("pointLight",{position:[1.2,2.35,-1.9],color:"pink",intensity:.5}),c.jsx("pointLight",{ref:i,position:[-1.3,1.18,.8],intensity:.9,color:"#1F51FF"}),c.jsx("mesh",{visible:!1,position:[.85,1.25,1.2],onClick:()=>n(!s),onPointerOver:()=>l(!0),onPointerOut:()=>l(!1),children:c.jsx("boxGeometry",{args:[.6,.67,.5]})}),c.jsx("mesh",{visible:!1,position:[-1.54,1.06,-.08],onClick:()=>e(!t),onPointerOver:()=>l(!0),onPointerOut:()=>l(!1),children:c.jsx("boxGeometry",{args:[.5,.5,.35]})})]})}function hs(){const[i,t]=mt(Xt),e=f.useRef();return f.useEffect(()=>{switch(i){case 0:e.current.setLookAt(...$.start,!0);break;case 1:e.current.setLookAt(...$.skill,!0);break;case 2:e.current.setLookAt(...$.book,!0);break;case 3:e.current.setLookAt(...$.os,!0);break;case 4:e.current.setLookAt(...$.cell,!0);break}},[i]),c.jsxs(c.Fragment,{children:[c.jsx(rs,{ref:e,smoothTime:2,mouseButtons:{left:0,right:0,middle:0,wheel:0},touches:{one:0,two:0,three:0}}),c.jsx(as,{}),c.jsx(Ae,{}),c.jsx(Re,{position:[0,.25,.1]})]})}function cs(){const i=f.useRef(new Audio("/music/ambient1.mp3")),t=f.useRef(),[e,s]=f.useState(!1),[n,r]=f.useState(!1),[l,a]=mt(Xt);f.useEffect(()=>{if(n)return i.current.play(),()=>i.current.pause()},[n]);const u={open:{clipPath:"circle(2500px at 40px 40px)",transition:{type:"spring",stiffness:20,mass:75}},closed:{clipPath:"circle(30px at 40px 40px)",transition:{type:"spring",stiffness:400,damping:40}}};return c.jsxs("div",{className:"relative h-screen w-full bg-black",children:[c.jsx(ss,{shadows:!0,camera:{position:[0,3,5],fov:35},children:c.jsx(hs,{})}),c.jsxs("div",{className:"absolute left-1/2 top-1/2 z-50 hidden w-2/3 -translate-x-1/2 -translate-y-1/2 rounded-2xl bg-[#60a6fb] p-4 text-white portrait:block pointer-events-none",children:[c.jsx("h2",{className:"text-center text-4xl",children:"Warning"}),c.jsx("p",{className:"p-4 text-center text-2xl",children:"Please view in landscape mode"})]}),c.jsx("button",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 cursor-pointer rounded-2xl border-black bg-white bg-opacity-90 px-4 py-2 text-center hover:bg-slate-300",onClick:()=>{a(d=>d===Object.keys($).length-1?0:d+1)},children:"Next"}),c.jsxs(Se.nav,{className:"absolute bottom-0 left-0 top-0 flex w-80 flex-col items-center border-r border-black/50 bg-white bg-opacity-90",initial:"closed",variants:u,animate:e?"open":"closed",children:[c.jsx("img",{className:"absolute left-[30px] top-[30px] scale-150 cursor-pointer select-none",src:"/images/menu.svg",alt:"",onClick:()=>s(!e)}),c.jsxs("div",{className:"absolute top-[20%] flex flex-col items-center justify-center rounded-2xl p-4 pb-2 hover:bg-slate-300/50",onClick:()=>r(!n),children:[c.jsx("div",{className:` ${n?"bg-pause":"bg-volume"} cursor-pointer rounded-lg border border-slate-600 bg-cover bg-center p-8`}),c.jsx("div",{children:n?"Stop":"Ambient"})]}),c.jsxs("div",{className:"absolute top-[50%] flex flex-col items-center justify-center rounded-2xl p-4 pb-2 hover:bg-slate-300/50",onClick:()=>t.current.showModal(),children:[c.jsx("div",{className:"cursor-pointer rounded-lg border border-slate-600 bg-share bg-cover bg-center p-8"}),c.jsx("div",{children:"Share"})]})]}),c.jsxs("dialog",{ref:t,className:"modal",children:[c.jsxs("div",{className:"modal-box",children:[c.jsx("h3",{className:"mb-4 text-center text-lg font-bold",children:"Share on Social Media"}),c.jsxs("div",{className:"flex justify-evenly",children:[c.jsxs("div",{className:"flex cursor-pointer flex-col items-center justify-center",onClick:()=>window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${window.location.origin}`,"_blank"),children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",viewBox:"0 0 512 512",fill:"#ffffff",children:[c.jsx("rect",{width:"512",height:"512",rx:"15%",fill:"#0077b5"}),c.jsx("circle",{cx:"142",cy:"138",r:"37"}),c.jsx("path",{stroke:"#ffffff",strokeWidth:"66",d:"M244 194v198M142 194v198"}),c.jsx("path",{d:"M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"})]}),c.jsx("div",{children:"LinkedIn"})]}),c.jsxs("div",{className:"flex cursor-pointer flex-col items-center justify-center",onClick:()=>window.open(`https://www.facebook.com/sharer/sharer.php?u=${window.location.origin}`,"_blank"),children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",className:"h-12 w-12",children:[c.jsx("path",{fill:"#039be5",d:"M24 5A19 19 0 1 0 24 43A19 19 0 1 0 24 5Z"}),c.jsx("path",{fill:"#fff",d:"M26.572,29.036h4.917l0.772-4.995h-5.69v-2.73c0-2.075,0.678-3.915,2.619-3.915h3.119v-4.359c-0.548-0.074-1.707-0.236-3.897-0.236c-4.573,0-7.254,2.415-7.254,7.917v3.323h-4.701v4.995h4.701v13.729C22.089,42.905,23.032,43,24,43c0.875,0,1.729-0.08,2.572-0.194V29.036z"})]}),c.jsx("div",{children:"Facebook"})]}),c.jsxs("div",{className:"flex cursor-pointer flex-col items-center justify-center",onClick:()=>window.open(`https://twitter.com/intent/tweet?url=${window.location.origin}`,"_blank"),children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",className:"h-12 w-12",children:[c.jsx("path",{fill:"#212121",fillRule:"evenodd",d:"M38,42H10c-2.209,0-4-1.791-4-4V10c0-2.209,1.791-4,4-4h28	c2.209,0,4,1.791,4,4v28C42,40.209,40.209,42,38,42z",clipRule:"evenodd"}),c.jsx("path",{fill:"#fff",d:"M34.257,34h-6.437L13.829,14h6.437L34.257,34z M28.587,32.304h2.563L19.499,15.696h-2.563 L28.587,32.304z"}),c.jsx("polygon",{fill:"#fff",points:"15.866,34 23.069,25.656 22.127,24.407 13.823,34"}),c.jsx("polygon",{fill:"#fff",points:"24.45,21.721 25.355,23.01 33.136,14 31.136,14"})]}),c.jsx("div",{children:"Twitter/X"})]}),c.jsxs("div",{className:"flex cursor-pointer flex-col items-center justify-center",onClick:()=>window.open(`https://www.addtoany.com/add_to/whatsapp?linkurl=${window.location.origin}`,"_blank"),children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",className:"h-12 w-12",children:[c.jsx("path",{fill:"#fff",d:"M4.868,43.303l2.694-9.835C5.9,30.59,5.026,27.324,5.027,23.979C5.032,13.514,13.548,5,24.014,5c5.079,0.002,9.845,1.979,13.43,5.566c3.584,3.588,5.558,8.356,5.556,13.428c-0.004,10.465-8.522,18.98-18.986,18.98c-0.001,0,0,0,0,0h-0.008c-3.177-0.001-6.3-0.798-9.073-2.311L4.868,43.303z"}),c.jsx("path",{fill:"#fff",d:"M4.868,43.803c-0.132,0-0.26-0.052-0.355-0.148c-0.125-0.127-0.174-0.312-0.127-0.483l2.639-9.636c-1.636-2.906-2.499-6.206-2.497-9.556C4.532,13.238,13.273,4.5,24.014,4.5c5.21,0.002,10.105,2.031,13.784,5.713c3.679,3.683,5.704,8.577,5.702,13.781c-0.004,10.741-8.746,19.48-19.486,19.48c-3.189-0.001-6.344-0.788-9.144-2.277l-9.875,2.589C4.953,43.798,4.911,43.803,4.868,43.803z"}),c.jsx("path",{fill:"#cfd8dc",d:"M24.014,5c5.079,0.002,9.845,1.979,13.43,5.566c3.584,3.588,5.558,8.356,5.556,13.428c-0.004,10.465-8.522,18.98-18.986,18.98h-0.008c-3.177-0.001-6.3-0.798-9.073-2.311L4.868,43.303l2.694-9.835C5.9,30.59,5.026,27.324,5.027,23.979C5.032,13.514,13.548,5,24.014,5 M24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974 M24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974 M24.014,4C24.014,4,24.014,4,24.014,4C12.998,4,4.032,12.962,4.027,23.979c-0.001,3.367,0.849,6.685,2.461,9.622l-2.585,9.439c-0.094,0.345,0.002,0.713,0.254,0.967c0.19,0.192,0.447,0.297,0.711,0.297c0.085,0,0.17-0.011,0.254-0.033l9.687-2.54c2.828,1.468,5.998,2.243,9.197,2.244c11.024,0,19.99-8.963,19.995-19.98c0.002-5.339-2.075-10.359-5.848-14.135C34.378,6.083,29.357,4.002,24.014,4L24.014,4z"}),c.jsx("path",{fill:"#40c351",d:"M35.176,12.832c-2.98-2.982-6.941-4.625-11.157-4.626c-8.704,0-15.783,7.076-15.787,15.774c-0.001,2.981,0.833,5.883,2.413,8.396l0.376,0.597l-1.595,5.821l5.973-1.566l0.577,0.342c2.422,1.438,5.2,2.198,8.032,2.199h0.006c8.698,0,15.777-7.077,15.78-15.776C39.795,19.778,38.156,15.814,35.176,12.832z"}),c.jsx("path",{fill:"#fff",fillRule:"evenodd",d:"M19.268,16.045c-0.355-0.79-0.729-0.806-1.068-0.82c-0.277-0.012-0.593-0.011-0.909-0.011c-0.316,0-0.83,0.119-1.265,0.594c-0.435,0.475-1.661,1.622-1.661,3.956c0,2.334,1.7,4.59,1.937,4.906c0.237,0.316,3.282,5.259,8.104,7.161c4.007,1.58,4.823,1.266,5.693,1.187c0.87-0.079,2.807-1.147,3.202-2.255c0.395-1.108,0.395-2.057,0.277-2.255c-0.119-0.198-0.435-0.316-0.909-0.554s-2.807-1.385-3.242-1.543c-0.435-0.158-0.751-0.237-1.068,0.238c-0.316,0.474-1.225,1.543-1.502,1.859c-0.277,0.317-0.554,0.357-1.028,0.119c-0.474-0.238-2.002-0.738-3.815-2.354c-1.41-1.257-2.362-2.81-2.639-3.285c-0.277-0.474-0.03-0.731,0.208-0.968c0.213-0.213,0.474-0.554,0.712-0.831c0.237-0.277,0.316-0.475,0.474-0.791c0.158-0.317,0.079-0.594-0.04-0.831C20.612,19.329,19.69,16.983,19.268,16.045z",clipRule:"evenodd"})]}),c.jsx("div",{children:"WhatsApp"})]}),c.jsxs("div",{className:"flex flex-col items-center justify-center",onClick:()=>window.open(`mailto:?&subject=Developer%20Profile&cc=&bcc=&body=${window.location.origin}`,"_blank"),children:[c.jsx("svg",{className:"h-12 w-12 fill-slate-500/80",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z"})}),c.jsx("div",{children:"Email"})]})]})]}),c.jsx("form",{method:"dialog",className:"modal-backdrop",children:c.jsx("button",{children:"close"})})]})]})}export{cs as default};
